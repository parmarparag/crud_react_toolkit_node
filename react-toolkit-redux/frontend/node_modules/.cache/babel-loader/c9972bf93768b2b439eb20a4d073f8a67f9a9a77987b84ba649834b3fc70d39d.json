{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\n\n// create Action\n\nexport const createUser = createAsyncThunk(\"createUser\", async (data, {\n  rejectWithValue\n}) => {\n  const response = await fetch(\"http://localhost:3000/api/create\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(data)\n  });\n  try {\n    const result = await response.json();\n    return result;\n  } catch (error) {\n    return rejectWithValue(error);\n  }\n});\n\n// read action\n\nexport const showUser = createAsyncThunk(\"showUser\", async (_, {\n  rejectWithValue\n}) => {\n  const response = await fetch(\"http://localhost:3000/api/getall\");\n  try {\n    const result = await response.json();\n    console.log(result);\n    return result;\n  } catch (error) {\n    return rejectWithValue(error);\n  }\n});\n\n// delete \n\nexport const deleteUser = createAsyncThunk(\"showUser\", async (id, {\n  rejectWithValue\n}) => {\n  const response = await fetch(`http://localhost:3000/api/delete/${id}`, {\n    method: \"DELETE\"\n  });\n  try {\n    const result = await response.json();\n    console.log(result);\n    return result;\n  } catch (error) {\n    return rejectWithValue(error);\n  }\n});\nexport const userDetail = createSlice({\n  name: \"userDetail\",\n  initialState: {\n    users: [],\n    loading: false,\n    error: null\n  },\n  extraReducer: {\n    [createUser.pending]: state => {\n      state.loading = true;\n    },\n    [createUser.fulfilled]: (state, action) => {\n      state.loading = false;\n      state.users.push(action.payload);\n    },\n    [createUser.rejected]: (state, action) => {\n      state.loading = false;\n      state.users = action.payload;\n    }\n    // [showUser.pending]: (state) => {\n    //     state.loading = true;\n    // },\n    // [showUser.fulfilled]: (state, action) => {\n    // state.loading = false;\n    // state.users = action.payload;\n    // },\n    // [showUser.rejected]: (state, action) => {\n    // state.loading = false;\n    // state.users = action.payload;\n    // },\n    // [deleteUser.pending]: (state) => {\n    //     state.loading = true;\n    // },\n    // [deleteUser.fulfilled]: (state, action) => {\n    // state.loading = false;\n    // console.log(\"Delete---\",action.payload); \n    // },\n    // [deleteUser.rejected]: (state, action) => {\n    // state.loading = false;\n    // state.users = action.payload;\n    // },\n  }\n});\nexport default userDetail.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","createUser","data","rejectWithValue","response","fetch","method","headers","body","JSON","stringify","result","json","error","showUser","_","console","log","deleteUser","id","userDetail","name","initialState","users","loading","extraReducer","pending","state","fulfilled","action","push","payload","rejected","reducer"],"sources":["/Users/parmarparag/Desktop/crud/frontend/src/slices/useDetailSlice.js"],"sourcesContent":["\nimport { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\n\n// create Action\n\nexport const createUser = createAsyncThunk(\n  \"createUser\",\n  async (data, { rejectWithValue }) => {\n    const response = await fetch(\"http://localhost:3000/api/create\", {\n      method: \"POST\",\n      headers : {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(data),\n    });\n\n    try {\n      const result = await response.json();\n      return result;\n    } catch (error) {\n      return rejectWithValue(error);\n    }\n  }\n);\n\n\n// read action\n\nexport const showUser = createAsyncThunk(\"showUser\", async (_,{rejectWithValue})=>{\n    const response = await fetch(\"http://localhost:3000/api/getall\")\n    try {\n        const result = await response.json()\n        console.log(result);\n        return result\n    } catch (error) {\n        return rejectWithValue(error)\n    }\n})\n\n\n// delete \n\nexport const deleteUser = createAsyncThunk(\"showUser\", async (id,{rejectWithValue})=>{\n    const response = await fetch(`http://localhost:3000/api/delete/${id}`,{method: \"DELETE\"})\n    try {\n        const result = await response.json()\n        console.log(result);\n        return result\n    } catch (error) {\n        return rejectWithValue(error)\n    }\n})\n\n\nexport const userDetail = createSlice({\n  name: \"userDetail\",\n  initialState: {\n    users: [],\n    loading: false,\n    error: null,\n  },\n  extraReducer: {\n    [createUser.pending]: (state) => {\n      state.loading = true;\n    },\n    [createUser.fulfilled]: (state, action) => {\n      state.loading = false;\n      state.users.push(action.payload);\n    },\n    [createUser.rejected]: (state, action) => {\n      state.loading = false;\n      state.users = action.payload;\n    },\n    // [showUser.pending]: (state) => {\n    //     state.loading = true;\n    // },\n    // [showUser.fulfilled]: (state, action) => {\n    // state.loading = false;\n    // state.users = action.payload;\n    // },\n    // [showUser.rejected]: (state, action) => {\n    // state.loading = false;\n    // state.users = action.payload;\n    // },\n    // [deleteUser.pending]: (state) => {\n    //     state.loading = true;\n    // },\n    // [deleteUser.fulfilled]: (state, action) => {\n    // state.loading = false;\n    // console.log(\"Delete---\",action.payload); \n    // },\n    // [deleteUser.rejected]: (state, action) => {\n    // state.loading = false;\n    // state.users = action.payload;\n    // },\n  },\n});\n\nexport default userDetail.reducer;"],"mappings":"AACA,SAASA,WAAW,EAAEC,gBAAgB,QAAQ,kBAAkB;;AAEhE;;AAEA,OAAO,MAAMC,UAAU,GAAGD,gBAAgB,CACxC,YAAY,EACZ,OAAOE,IAAI,EAAE;EAAEC;AAAgB,CAAC,KAAK;EACnC,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,kCAAkC,EAAE;IAC/DC,MAAM,EAAE,MAAM;IACdC,OAAO,EAAG;MACR,cAAc,EAAE;IAClB,CAAC;IACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACR,IAAI;EAC3B,CAAC,CAAC;EAEF,IAAI;IACF,MAAMS,MAAM,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC,CAAC;IACpC,OAAOD,MAAM;EACf,CAAC,CAAC,OAAOE,KAAK,EAAE;IACd,OAAOV,eAAe,CAACU,KAAK,CAAC;EAC/B;AACF,CACF,CAAC;;AAGD;;AAEA,OAAO,MAAMC,QAAQ,GAAGd,gBAAgB,CAAC,UAAU,EAAE,OAAOe,CAAC,EAAC;EAACZ;AAAe,CAAC,KAAG;EAC9E,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,kCAAkC,CAAC;EAChE,IAAI;IACA,MAAMM,MAAM,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC,CAAC;IACpCI,OAAO,CAACC,GAAG,CAACN,MAAM,CAAC;IACnB,OAAOA,MAAM;EACjB,CAAC,CAAC,OAAOE,KAAK,EAAE;IACZ,OAAOV,eAAe,CAACU,KAAK,CAAC;EACjC;AACJ,CAAC,CAAC;;AAGF;;AAEA,OAAO,MAAMK,UAAU,GAAGlB,gBAAgB,CAAC,UAAU,EAAE,OAAOmB,EAAE,EAAC;EAAChB;AAAe,CAAC,KAAG;EACjF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,oCAAmCc,EAAG,EAAC,EAAC;IAACb,MAAM,EAAE;EAAQ,CAAC,CAAC;EACzF,IAAI;IACA,MAAMK,MAAM,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC,CAAC;IACpCI,OAAO,CAACC,GAAG,CAACN,MAAM,CAAC;IACnB,OAAOA,MAAM;EACjB,CAAC,CAAC,OAAOE,KAAK,EAAE;IACZ,OAAOV,eAAe,CAACU,KAAK,CAAC;EACjC;AACJ,CAAC,CAAC;AAGF,OAAO,MAAMO,UAAU,GAAGrB,WAAW,CAAC;EACpCsB,IAAI,EAAE,YAAY;EAClBC,YAAY,EAAE;IACZC,KAAK,EAAE,EAAE;IACTC,OAAO,EAAE,KAAK;IACdX,KAAK,EAAE;EACT,CAAC;EACDY,YAAY,EAAE;IACZ,CAACxB,UAAU,CAACyB,OAAO,GAAIC,KAAK,IAAK;MAC/BA,KAAK,CAACH,OAAO,GAAG,IAAI;IACtB,CAAC;IACD,CAACvB,UAAU,CAAC2B,SAAS,GAAG,CAACD,KAAK,EAAEE,MAAM,KAAK;MACzCF,KAAK,CAACH,OAAO,GAAG,KAAK;MACrBG,KAAK,CAACJ,KAAK,CAACO,IAAI,CAACD,MAAM,CAACE,OAAO,CAAC;IAClC,CAAC;IACD,CAAC9B,UAAU,CAAC+B,QAAQ,GAAG,CAACL,KAAK,EAAEE,MAAM,KAAK;MACxCF,KAAK,CAACH,OAAO,GAAG,KAAK;MACrBG,KAAK,CAACJ,KAAK,GAAGM,MAAM,CAACE,OAAO;IAC9B;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACF;AACF,CAAC,CAAC;AAEF,eAAeX,UAAU,CAACa,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}