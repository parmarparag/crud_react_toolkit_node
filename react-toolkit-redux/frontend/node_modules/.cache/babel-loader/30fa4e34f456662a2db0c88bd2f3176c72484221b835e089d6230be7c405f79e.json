{"ast":null,"code":"// userSlice.js\nimport { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\nimport { DELETE_REQUEST } from '../store/actionTypes';\nexport const deleteUser = createAsyncThunk(DELETE_REQUEST, async (userId, {\n  rejectWithValue\n}) => {\n  try {\n    const response = await axios.post(`${API_BASE_URL}api/delete`, userId);\n    console.log(response);\n    return response;\n  } catch (error) {\n    return rejectWithValue(error.response.data);\n  }\n});\n\n// Define a thunk for deleting a user\n// export const deleteUser = createAsyncThunk('users/deleteUser', async (userId) => {\n//   await axios.delete(`/api/users/${userId}`);\n//   return userId;\n// });\n\n// Define initial state\nconst initialState = {\n  users: [],\n  status: 'idle',\n  error: null\n};\n\n// Create a slice for managing users\nconst deleteSlice = createSlice({\n  name: 'users',\n  initialState,\n  reducers: {\n    // Additional reducers for CRUD operations can be added here\n  },\n  extraReducers: builder => {\n    builder.addCase(deleteUser.pending, state => {\n      state.status = 'loading';\n    }).addCase(deleteUser.fulfilled, (state, action) => {\n      state.status = 'succeeded';\n      state.users = state.users.filter(user => user.id !== action.payload);\n    }).addCase(deleteUser.rejected, (state, action) => {\n      state.status = 'failed';\n      state.error = action.error.message;\n    });\n  }\n});\nexport default deleteSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","DELETE_REQUEST","deleteUser","userId","rejectWithValue","response","post","API_BASE_URL","console","log","error","data","initialState","users","status","deleteSlice","name","reducers","extraReducers","builder","addCase","pending","state","fulfilled","action","filter","user","id","payload","rejected","message","reducer"],"sources":["/Users/parmarparag/Desktop/crud 2/frontend/src/features/deleteSlice.js"],"sourcesContent":["// userSlice.js\nimport { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\nimport { DELETE_REQUEST } from '../store/actionTypes';\n\nexport const deleteUser = createAsyncThunk(\n    DELETE_REQUEST,\n    async (userId, { rejectWithValue }) => {\n      try {\n        const response = await axios.post(`${API_BASE_URL}api/delete`, userId);\n        console.log(response)\n        return response\n      } catch (error) {\n        return rejectWithValue(error.response.data);\n      }\n    }\n  );\n\n// Define a thunk for deleting a user\n// export const deleteUser = createAsyncThunk('users/deleteUser', async (userId) => {\n//   await axios.delete(`/api/users/${userId}`);\n//   return userId;\n// });\n\n// Define initial state\nconst initialState = {\n  users: [],\n  status: 'idle',\n  error: null,\n};\n\n// Create a slice for managing users\nconst deleteSlice = createSlice({\n  name: 'users',\n  initialState,\n  reducers: {\n    // Additional reducers for CRUD operations can be added here\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(deleteUser.pending, (state) => {\n        state.status = 'loading';\n      })\n      .addCase(deleteUser.fulfilled, (state, action) => {\n        state.status = 'succeeded';\n        state.users = state.users.filter((user) => user.id !== action.payload);\n      })\n      .addCase(deleteUser.rejected, (state, action) => {\n        state.status = 'failed';\n        state.error = action.error.message;\n      });\n  },\n});\n\nexport default deleteSlice.reducer;\n"],"mappings":"AAAA;AACA,SAASA,WAAW,EAAEC,gBAAgB,QAAQ,kBAAkB;AAChE,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,cAAc,QAAQ,sBAAsB;AAErD,OAAO,MAAMC,UAAU,GAAGH,gBAAgB,CACtCE,cAAc,EACd,OAAOE,MAAM,EAAE;EAAEC;AAAgB,CAAC,KAAK;EACrC,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAML,KAAK,CAACM,IAAI,CAAE,GAAEC,YAAa,YAAW,EAAEJ,MAAM,CAAC;IACtEK,OAAO,CAACC,GAAG,CAACJ,QAAQ,CAAC;IACrB,OAAOA,QAAQ;EACjB,CAAC,CAAC,OAAOK,KAAK,EAAE;IACd,OAAON,eAAe,CAACM,KAAK,CAACL,QAAQ,CAACM,IAAI,CAAC;EAC7C;AACF,CACF,CAAC;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAMC,YAAY,GAAG;EACnBC,KAAK,EAAE,EAAE;EACTC,MAAM,EAAE,MAAM;EACdJ,KAAK,EAAE;AACT,CAAC;;AAED;AACA,MAAMK,WAAW,GAAGjB,WAAW,CAAC;EAC9BkB,IAAI,EAAE,OAAO;EACbJ,YAAY;EACZK,QAAQ,EAAE;IACR;EAAA,CACD;EACDC,aAAa,EAAGC,OAAO,IAAK;IAC1BA,OAAO,CACJC,OAAO,CAAClB,UAAU,CAACmB,OAAO,EAAGC,KAAK,IAAK;MACtCA,KAAK,CAACR,MAAM,GAAG,SAAS;IAC1B,CAAC,CAAC,CACDM,OAAO,CAAClB,UAAU,CAACqB,SAAS,EAAE,CAACD,KAAK,EAAEE,MAAM,KAAK;MAChDF,KAAK,CAACR,MAAM,GAAG,WAAW;MAC1BQ,KAAK,CAACT,KAAK,GAAGS,KAAK,CAACT,KAAK,CAACY,MAAM,CAAEC,IAAI,IAAKA,IAAI,CAACC,EAAE,KAAKH,MAAM,CAACI,OAAO,CAAC;IACxE,CAAC,CAAC,CACDR,OAAO,CAAClB,UAAU,CAAC2B,QAAQ,EAAE,CAACP,KAAK,EAAEE,MAAM,KAAK;MAC/CF,KAAK,CAACR,MAAM,GAAG,QAAQ;MACvBQ,KAAK,CAACZ,KAAK,GAAGc,MAAM,CAACd,KAAK,CAACoB,OAAO;IACpC,CAAC,CAAC;EACN;AACF,CAAC,CAAC;AAEF,eAAef,WAAW,CAACgB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}